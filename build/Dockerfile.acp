FROM ghcr.io/sriaradhyula/acp/wfsrv:latest

# Define build arguments
ARG AGENT_DIR
ARG AGENT_FRAMEWORK
ARG AGENT_OBJECT

# Set the working directory
WORKDIR /opt/agent-workflow-server

# Copy the agent source directory to the container
COPY $AGENT_DIR /opt/agent_src

# Install the agent package using Poetry
RUN poetry run pip install /opt/agent_src
